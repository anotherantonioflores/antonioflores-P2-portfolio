<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Antonio Flores - Data Analysis Portfolio - AnalysisPM</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Antonio Flores - Data Analysis Portfolio</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../aboutme.html"> 
<span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-projects" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Projects</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-projects">    
        <li>
    <a class="dropdown-item" href="../starter-analysis-exercise/products/report/starter-analysis-report.html">
 <span class="dropdown-text">Starter Analysis Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../coding-exercise/coding-exercise.html">
 <span class="dropdown-text">R Coding Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../presentation-exercise/presentation-exercise.html">
 <span class="dropdown-text">Presentation Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../tidytuesday-exercise/tidytuesday-exercise.html">
 <span class="dropdown-text">Tidy Tuesday Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../synthetic-data-exercise/Synthetic_Data.html">
 <span class="dropdown-text">Synthetic Data Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../cdcdata-exercise/code/cdcdata-exercise.html">
 <span class="dropdown-text">Data Analysis Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../classification-prediction-project/manuscript/Manuscript_Copy.html">
 <span class="dropdown-text">Classification Prediction Project</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../regression-prediction-project/regression-prediction-project.html">
 <span class="dropdown-text">Regression Prediction Project</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/anotherantonioflores/antonioflores-P2-portfolio"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">AnalysisPM</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2) <span class="co">#for plotting</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'ggplot2' was built under R version 4.3.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom) <span class="co">#for cleaning up output from lm()</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here) <span class="co">#for data loading/saving</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>here() starts at C:/Users/Client/Documents/antonioflores-P2-portfolio</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(earth)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'earth' was built under R version 4.3.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: Formula</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: plotmo</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'plotmo' was built under R version 4.3.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: plotrix</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'plotrix' was built under R version 4.3.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tidyr' was built under R version 4.3.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'dplyr' was built under R version 4.3.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'caret' was built under R version 4.3.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: lattice</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'knitr' was built under R version 4.3.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(randomForest)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'randomForest' was built under R version 4.3.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>randomForest 4.7-1.1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Type rfNews() to see new features/changes/bug fixes.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'randomForest'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:dplyr':

    combine</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:ggplot2':

    margin</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Metrics)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'Metrics' was built under R version 4.3.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'Metrics'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:caret':

    precision, recall</code></pre>
</div>
</div>
<section id="reading-in-the-data" class="level13">
<p class="heading">Reading in the data</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>data_location <span class="ot">&lt;-</span> <span class="fu">here</span>(<span class="st">"regression-prediction-project"</span>,<span class="st">"data"</span>,<span class="st">"Processed Data"</span>,<span class="st">"Numerical.rds"</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>NumericData <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(data_location)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>data_location <span class="ot">&lt;-</span> <span class="fu">here</span>(<span class="st">"regression-prediction-project"</span>,<span class="st">"data"</span>,<span class="st">"Processed Data"</span>,<span class="st">"Categorical.rds"</span>)</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>CategoricalData <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(data_location)</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>data_location <span class="ot">&lt;-</span> <span class="fu">here</span>(<span class="st">"regression-prediction-project"</span>,<span class="st">"data"</span>,<span class="st">"Processed Data"</span>,<span class="st">"Response.rds"</span>)</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>Response <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(data_location)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>NUMRESP <span class="ot">=</span> <span class="fu">cbind</span>(NumericData, Response<span class="sc">$</span>SalePrice)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>NUMRESP <span class="ot">=</span> NUMRESP <span class="sc">%&gt;%</span> </span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>Id)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>CATRESP <span class="ot">=</span> <span class="fu">cbind</span>(CategoricalData, Response<span class="sc">$</span>SalePrice)</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>CATRESP <span class="ot">=</span> CATRESP <span class="sc">%&gt;%</span> </span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>Id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>LMfull <span class="ot">=</span> <span class="fu">glm</span>(<span class="st">`</span><span class="at">Response$SalePrice</span><span class="st">`</span><span class="sc">~</span>., <span class="at">data =</span> NUMRESP)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(LMfull)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = `Response$SalePrice` ~ ., data = NUMRESP)

Coefficients: (2 not defined because of singularities)
                Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)    4.604e+05  1.414e+06   0.326 0.744677    
MSSubClass    -1.820e+02  2.767e+01  -6.577 6.71e-11 ***
LotFrontage   -5.634e+01  5.177e+01  -1.088 0.276608    
LotArea        4.305e-01  1.021e-01   4.216 2.64e-05 ***
OverallQual    1.733e+04  1.187e+03  14.596  &lt; 2e-16 ***
OverallCond    4.675e+03  1.033e+03   4.527 6.47e-06 ***
YearBuilt      2.695e+02  6.741e+01   3.998 6.73e-05 ***
YearRemodAdd   1.345e+02  6.859e+01   1.961 0.050104 .  
MasVnrArea     3.135e+01  5.933e+00   5.283 1.46e-07 ***
BsmtFinSF1     1.921e+01  4.667e+00   4.117 4.06e-05 ***
BsmtFinSF2     8.274e+00  7.057e+00   1.172 0.241211    
BsmtUnfSF      9.297e+00  4.194e+00   2.217 0.026794 *  
TotalBsmtSF           NA         NA      NA       NA    
X1stFlrSF      4.901e+01  5.810e+00   8.437  &lt; 2e-16 ***
X2ndFlrSF      4.903e+01  4.983e+00   9.839  &lt; 2e-16 ***
LowQualFinSF   2.534e+01  1.997e+01   1.269 0.204619    
GrLivArea             NA         NA      NA       NA    
BsmtFullBath   9.370e+03  2.612e+03   3.588 0.000345 ***
BsmtHalfBath   2.052e+03  4.091e+03   0.502 0.616067    
FullBath       3.440e+03  2.837e+03   1.213 0.225492    
HalfBath      -1.873e+03  2.663e+03  -0.703 0.481986    
BedroomAbvGr  -1.009e+04  1.702e+03  -5.927 3.86e-09 ***
KitchenAbvGr  -1.216e+04  5.212e+03  -2.333 0.019790 *  
TotRmsAbvGrd   5.044e+03  1.237e+03   4.078 4.80e-05 ***
Fireplaces     3.985e+03  1.777e+03   2.243 0.025060 *  
GarageYrBlt    1.268e+02  6.898e+01   1.839 0.066151 .  
GarageCars     1.129e+04  2.876e+03   3.926 9.05e-05 ***
GarageArea    -4.383e+00  9.941e+00  -0.441 0.659395    
WoodDeckSF     2.388e+01  8.012e+00   2.981 0.002925 ** 
OpenPorchSF   -2.872e+00  1.518e+01  -0.189 0.849975    
EnclosedPorch  1.194e+01  1.686e+01   0.708 0.479184    
X3SsnPorch     2.038e+01  3.139e+01   0.649 0.516247    
ScreenPorch    5.596e+01  1.719e+01   3.255 0.001159 ** 
PoolArea      -2.908e+01  2.381e+01  -1.222 0.222061    
MiscVal       -7.313e-01  1.855e+00  -0.394 0.693422    
MoSold        -4.857e+01  3.448e+02  -0.141 0.887993    
YrSold        -7.797e+02  7.025e+02  -1.110 0.267253    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for gaussian family taken to be 1207274113)

    Null deviance: 9.2079e+12  on 1459  degrees of freedom
Residual deviance: 1.7204e+12  on 1425  degrees of freedom
AIC: 34711

Number of Fisher Scoring iterations: 2</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>lntable <span class="ot">&lt;-</span> broom<span class="sc">::</span><span class="fu">tidy</span>(LMfull)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>fullmodel <span class="ot">=</span> <span class="fu">here</span>(<span class="st">"regression-prediction-project"</span>,<span class="st">"results"</span>,<span class="st">"fullmodel.rds"</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(lntable, <span class="at">file =</span> fullmodel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>LMfull2 <span class="ot">=</span> <span class="fu">glm</span>(<span class="st">`</span><span class="at">Response$SalePrice</span><span class="st">`</span><span class="sc">~</span>., <span class="at">data =</span> CATRESP)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(LMfull)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = `Response$SalePrice` ~ ., data = NUMRESP)

Coefficients: (2 not defined because of singularities)
                Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)    4.604e+05  1.414e+06   0.326 0.744677    
MSSubClass    -1.820e+02  2.767e+01  -6.577 6.71e-11 ***
LotFrontage   -5.634e+01  5.177e+01  -1.088 0.276608    
LotArea        4.305e-01  1.021e-01   4.216 2.64e-05 ***
OverallQual    1.733e+04  1.187e+03  14.596  &lt; 2e-16 ***
OverallCond    4.675e+03  1.033e+03   4.527 6.47e-06 ***
YearBuilt      2.695e+02  6.741e+01   3.998 6.73e-05 ***
YearRemodAdd   1.345e+02  6.859e+01   1.961 0.050104 .  
MasVnrArea     3.135e+01  5.933e+00   5.283 1.46e-07 ***
BsmtFinSF1     1.921e+01  4.667e+00   4.117 4.06e-05 ***
BsmtFinSF2     8.274e+00  7.057e+00   1.172 0.241211    
BsmtUnfSF      9.297e+00  4.194e+00   2.217 0.026794 *  
TotalBsmtSF           NA         NA      NA       NA    
X1stFlrSF      4.901e+01  5.810e+00   8.437  &lt; 2e-16 ***
X2ndFlrSF      4.903e+01  4.983e+00   9.839  &lt; 2e-16 ***
LowQualFinSF   2.534e+01  1.997e+01   1.269 0.204619    
GrLivArea             NA         NA      NA       NA    
BsmtFullBath   9.370e+03  2.612e+03   3.588 0.000345 ***
BsmtHalfBath   2.052e+03  4.091e+03   0.502 0.616067    
FullBath       3.440e+03  2.837e+03   1.213 0.225492    
HalfBath      -1.873e+03  2.663e+03  -0.703 0.481986    
BedroomAbvGr  -1.009e+04  1.702e+03  -5.927 3.86e-09 ***
KitchenAbvGr  -1.216e+04  5.212e+03  -2.333 0.019790 *  
TotRmsAbvGrd   5.044e+03  1.237e+03   4.078 4.80e-05 ***
Fireplaces     3.985e+03  1.777e+03   2.243 0.025060 *  
GarageYrBlt    1.268e+02  6.898e+01   1.839 0.066151 .  
GarageCars     1.129e+04  2.876e+03   3.926 9.05e-05 ***
GarageArea    -4.383e+00  9.941e+00  -0.441 0.659395    
WoodDeckSF     2.388e+01  8.012e+00   2.981 0.002925 ** 
OpenPorchSF   -2.872e+00  1.518e+01  -0.189 0.849975    
EnclosedPorch  1.194e+01  1.686e+01   0.708 0.479184    
X3SsnPorch     2.038e+01  3.139e+01   0.649 0.516247    
ScreenPorch    5.596e+01  1.719e+01   3.255 0.001159 ** 
PoolArea      -2.908e+01  2.381e+01  -1.222 0.222061    
MiscVal       -7.313e-01  1.855e+00  -0.394 0.693422    
MoSold        -4.857e+01  3.448e+02  -0.141 0.887993    
YrSold        -7.797e+02  7.025e+02  -1.110 0.267253    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for gaussian family taken to be 1207274113)

    Null deviance: 9.2079e+12  on 1459  degrees of freedom
Residual deviance: 1.7204e+12  on 1425  degrees of freedom
AIC: 34711

Number of Fisher Scoring iterations: 2</code></pre>
</div>
</div>
</section>
<section id="preprocessing" class="level1">
<h1>Preprocessing</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">24</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>numdatapp <span class="ot">=</span> <span class="fu">preProcess</span>(NumericData[<span class="dv">2</span><span class="sc">:</span><span class="dv">37</span>], <span class="at">method=</span> <span class="fu">c</span>(<span class="st">"scale"</span>, <span class="st">"center"</span>, <span class="st">"BoxCox"</span>))</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>TransNumeric <span class="ot">=</span> <span class="fu">predict</span>(numdatapp, NumericData[<span class="dv">2</span><span class="sc">:</span><span class="dv">37</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>Fulldata1 <span class="ot">=</span> <span class="fu">cbind</span>(TransNumeric, CategoricalData, <span class="st">"Price"</span> <span class="ot">=</span> Response<span class="sc">$</span>SalePrice)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>Fulldata1 <span class="ot">=</span> Fulldata1 <span class="sc">%&gt;%</span> </span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>Id) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="splitting" class="level1">
<h1>Splitting</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">24</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>split1 <span class="ot">=</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">0</span>, <span class="fl">0.8</span> <span class="sc">*</span> <span class="fu">nrow</span>(Fulldata1)), <span class="fu">rep</span>(<span class="dv">1</span>, <span class="fl">0.2</span><span class="sc">*</span><span class="fu">nrow</span>(Fulldata1))))</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>train_data <span class="ot">=</span> Fulldata1[split1 <span class="sc">==</span> <span class="dv">0</span>, ]</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>test_data <span class="ot">=</span> Fulldata1[split1 <span class="sc">==</span> <span class="dv">1</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="ctrl-options" class="level1">
<h1>Ctrl options</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>ctrl <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method =</span> <span class="st">"cv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="modeling" class="level1">
<h1>Modeling</h1>
<section id="ln-model" class="level2">
<h2 class="anchored" data-anchor-id="ln-model">LN model</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>LNmodel <span class="ot">=</span> <span class="fu">glm</span>(Price<span class="sc">~</span>., <span class="at">data =</span> train_data)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>LNmodel</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:  glm(formula = Price ~ ., data = train_data)

Coefficients:
         (Intercept)            MSSubClass           LotFrontage  
            174394.8               -2348.4                 318.2  
             LotArea           OverallQual           OverallCond  
             10765.9               11530.6                6556.0  
           YearBuilt          YearRemodAdd            MasVnrArea  
              8933.3                2146.2                3655.2  
          BsmtFinSF1            BsmtFinSF2             BsmtUnfSF  
             30157.0                8353.6               19214.2  
         TotalBsmtSF             X1stFlrSF             X2ndFlrSF  
                  NA               25510.9               42374.7  
        LowQualFinSF             GrLivArea          BsmtFullBath  
              1942.0              -23986.3                -603.9  
        BsmtHalfBath              FullBath              HalfBath  
              -751.7                3705.4                2162.6  
        BedroomAbvGr          KitchenAbvGr          TotRmsAbvGrd  
             -3551.0               -1935.6                3669.9  
          Fireplaces           GarageYrBlt            GarageCars  
              2435.1                2385.3                5091.8  
          GarageArea            WoodDeckSF           OpenPorchSF  
              -595.4                 702.1                1439.1  
       EnclosedPorch            X3SsnPorch           ScreenPorch  
               443.2                1091.2                1833.4  
            PoolArea               MiscVal                MoSold  
              4405.7                -287.6                -215.9  
              YrSold            MSZoningFV            MSZoningRH  
              -175.5               44046.6               30922.8  
          MSZoningRL            MSZoningRM           LotShapeIR2  
             31269.0               28301.0                5139.3  
         LotShapeIR3           LotShapeReg        LandContourHLS  
              4124.5                 775.3               11945.5  
      LandContourLow        LandContourLvl      LotConfigCulDSac  
             -9669.1                4054.4                4797.6  
        LotConfigFR2          LotConfigFR3       LotConfigInside  
             -6103.5               -7457.4                -841.3  
        LandSlopeMod          LandSlopeSev   NeighborhoodBlueste  
              4095.5                4598.7               18051.1  
  NeighborhoodBrDale   NeighborhoodBrkSide   NeighborhoodClearCr  
              9190.3               -7230.0              -35264.2  
 NeighborhoodCollgCr   NeighborhoodCrawfor   NeighborhoodEdwards  
            -18086.1                5524.2              -24974.4  
 NeighborhoodGilbert    NeighborhoodIDOTRR   NeighborhoodMeadowV  
            -23595.7               -8622.4               10062.3  
 NeighborhoodMitchel     NeighborhoodNAmes   NeighborhoodNoRidge  
            -31715.0              -25654.3               11356.4  
 NeighborhoodNPkVill   NeighborhoodNridgHt    NeighborhoodNWAmes  
             -1483.7                -925.3              -30171.6  
 NeighborhoodOldTown    NeighborhoodSawyer   NeighborhoodSawyerW  
            -17006.3              -20929.2              -16455.3  
 NeighborhoodSomerst   NeighborhoodStoneBr     NeighborhoodSWISU  
            -12305.4               17089.7              -12433.5  
  NeighborhoodTimber   NeighborhoodVeenker       Condition1Feedr  
            -25426.6              -14575.6                1944.9  
      Condition1Norm        Condition1PosA        Condition1PosN  
              8728.3                8769.3               14374.2  
      Condition1RRAe        Condition1RRAn        Condition1RRNe  
            -17010.4                1912.3               -5316.8  
      Condition1RRNn        BldgType2fmCon        BldgTypeDuplex  
             -7621.5               -7069.6              -10076.6  
       BldgTypeTwnhs        BldgTypeTwnhsE      HouseStyle1.5Unf  
               224.3               -5175.8               -2092.3  
    HouseStyle1Story      HouseStyle2.5Fin      HouseStyle2.5Unf  
             -1089.7               -3104.8              -10756.9  
    HouseStyle2Story      HouseStyleSFoyer        HouseStyleSLvl  
             -3582.8               -5676.6                5868.4  
      RoofStyleGable      RoofStyleGambrel          RoofStyleHip  
             22778.0               32205.7               22379.8  
    RoofStyleMansard         RoofStyleShed    Exterior2ndAsphShn  
             31782.4              -12693.2                8698.9  
  Exterior2ndBrk Cmn    Exterior2ndBrkFace     Exterior2ndCBlock  
            -13085.7                6509.1              -10515.1  
  Exterior2ndCmentBd    Exterior2ndHdBoard    Exterior2ndImStucc  
            -13509.8               -7880.0                8937.6  
  Exterior2ndMetalSd      Exterior2ndOther    Exterior2ndPlywood  
             -4848.8              -24503.9              -11315.1  
    Exterior2ndStone     Exterior2ndStucco    Exterior2ndVinylSd  
              2820.9               -2828.8               -6773.2  
  Exterior2ndWd Sdng    Exterior2ndWd Shng     MasVnrTypeBrkFace  
             -4604.0               -6438.5               -2915.7  
      MasVnrTypeNone       MasVnrTypeStone           ExterQualFa  
              3404.3                5920.6              -22200.7  
         ExterQualGd           ExterQualTA      FoundationCBlock  
            -26780.4              -26186.8                3880.3  
     FoundationPConc        FoundationSlab       FoundationStone  
              5124.0               15183.5               -7072.1  
      FoundationWood            BsmtQualFa            BsmtQualGd  
            -19512.0               -6363.4              -16791.0  
        BsmtQualNone            BsmtQualTA        BsmtExposureGd  
             67355.3              -10675.6               21303.9  
      BsmtExposureMn        BsmtExposureNo      BsmtExposureNone  
               657.6               -3354.0                    NA  
     BsmtFinType1BLQ       BsmtFinType1GLQ       BsmtFinType1LwQ  
              2615.5                4475.6               -7516.4  
    BsmtFinType1None       BsmtFinType1Rec       BsmtFinType1Unf  
                  NA               -3008.0                4235.8  
     BsmtFinType2BLQ       BsmtFinType2GLQ       BsmtFinType2LwQ  
             -3564.5               -6017.0               -6473.4  
    BsmtFinType2None       BsmtFinType2Rec       BsmtFinType2Unf  
            -49468.2               -3144.7               -4273.5  
         CentralAirY         KitchenQualFa         KitchenQualGd  
               252.6              -18274.6              -23611.0  
       KitchenQualTA      GarageTypeAttchd     GarageTypeBasment  
            -23927.6               12493.7               14023.2  
   GarageTypeBuiltIn     GarageTypeCarPort      GarageTypeDetchd  
             13237.6                6700.0               15118.4  
      GarageTypeNone      GarageFinishNone       GarageFinishRFn  
             18488.0                    NA               -1249.1  
     GarageFinishUnf           PavedDriveP           PavedDriveY  
              -869.3                 966.1                7302.6  
         SaleTypeCon         SaleTypeConLD         SaleTypeConLI  
             18764.3                8110.5               -8940.6  
       SaleTypeConLw           SaleTypeCWD           SaleTypeNew  
              3613.7              -10734.1               25727.7  
         SaleTypeOth            SaleTypeWD  SaleConditionAdjLand  
             -1399.3               -5084.5               24759.9  
 SaleConditionAlloca   SaleConditionFamily   SaleConditionNormal  
             17581.3               -1501.6                7056.7  
SaleConditionPartial  
            -11662.2  

Degrees of Freedom: 1167 Total (i.e. Null);  997 Residual
Null Deviance:      7.536e+12 
Residual Deviance: 5.209e+11    AIC: 26920</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>lnIMP <span class="ot">=</span> <span class="fu">varImp</span>(LNmodel)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>lnIMP<span class="sc">$</span>Names <span class="ot">=</span> <span class="fu">row.names</span>(lnIMP)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>lnIMP <span class="sc">%&gt;%</span> </span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">10</span>, Overall) <span class="sc">%&gt;%</span> </span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">mapping=</span> <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(Names, Overall), <span class="at">y =</span> Overall), <span class="at">stat =</span> <span class="st">"identity"</span>)<span class="sc">+</span> </span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Predictors"</span>, <span class="at">y =</span> <span class="st">"Importance"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="2.-AnalysisPM_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="fu">here</span>(<span class="st">"regression-prediction-project"</span>,<span class="st">"results"</span>,<span class="st">"importantLN.png"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Saving 7 x 5 in image</code></pre>
</div>
</div>
</section>
<section id="knn" class="level2">
<h2 class="anchored" data-anchor-id="knn">KNN</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>knnModel <span class="ot">=</span> <span class="fu">train</span>(Price<span class="sc">~</span>., <span class="at">data=</span>train_data, </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">method =</span> <span class="st">"knn"</span>,</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">tuneGrid =</span> <span class="fu">data.frame</span>(<span class="at">k=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>),</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">trControl=</span> ctrl)</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>knnModel</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>k-Nearest Neighbors 

1168 samples
  61 predictor

No pre-processing
Resampling: Cross-Validated (10 fold) 
Summary of sample sizes: 1052, 1052, 1052, 1051, 1051, 1051, ... 
Resampling results across tuning parameters:

  k   RMSE      Rsquared   MAE     
   1  46781.64  0.6711573  27268.78
   2  41696.08  0.7350589  24052.30
   3  38451.93  0.7774852  22562.19
   4  37962.96  0.7880669  22343.66
   5  36865.69  0.8064777  21801.35
   6  36814.95  0.8111857  21577.57
   7  36714.59  0.8142887  21463.51
   8  36506.31  0.8192036  21294.28
   9  36718.31  0.8195865  21215.76
  10  36558.55  0.8223226  21078.64
  11  36799.57  0.8224276  21189.94
  12  36911.55  0.8225369  21153.40
  13  36705.03  0.8273041  21071.58
  14  36903.95  0.8275495  21175.58
  15  37075.19  0.8267158  21254.68
  16  37213.95  0.8281430  21310.37
  17  37206.04  0.8298035  21304.47
  18  37142.20  0.8319462  21323.46
  19  37171.46  0.8326782  21360.47
  20  37080.84  0.8339022  21364.39

RMSE was used to select the optimal model using the smallest value.
The final value used for the model was k = 8.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>KNNIMP <span class="ot">=</span> <span class="fu">varImp</span>(knnModel, , <span class="at">scale =</span> <span class="cn">FALSE</span>)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>KNNIMPGraph <span class="ot">=</span> KNNIMP<span class="sc">$</span>importance</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>KNNIMPGraph<span class="sc">$</span>Names <span class="ot">=</span> <span class="fu">row.names</span>(KNNIMPGraph)</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>KNNIMPGraph <span class="sc">%&gt;%</span> </span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">10</span>, Overall) <span class="sc">%&gt;%</span> </span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">mapping=</span> <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(Names, Overall), <span class="at">y =</span> Overall), <span class="at">stat =</span> <span class="st">"identity"</span>)<span class="sc">+</span> </span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Predictors"</span>, <span class="at">y =</span> <span class="st">"Importance"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="2.-AnalysisPM_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="fu">here</span>(<span class="st">"regression-prediction-project"</span>,<span class="st">"results"</span>,<span class="st">"importantKNN.png"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Saving 7 x 5 in image</code></pre>
</div>
</div>
</section>
<section id="randomforest" class="level2">
<h2 class="anchored" data-anchor-id="randomforest">RandomForest</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">222</span>)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>rfmodel <span class="ot">=</span> <span class="fu">randomForest</span>(Price<span class="sc">~</span>., <span class="at">data =</span> train_data,</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">importance =</span> <span class="cn">TRUE</span>,</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">trControl =</span> ctrl)</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>rfmodel</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
 randomForest(formula = Price ~ ., data = train_data, importance = TRUE,      trControl = ctrl) 
               Type of random forest: regression
                     Number of trees: 500
No. of variables tried at each split: 20

          Mean of squared residuals: 673470586
                    % Var explained: 89.56</code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>rfIMP <span class="ot">=</span> <span class="fu">varImp</span>(rfmodel)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>rfIMP<span class="sc">$</span>Names <span class="ot">=</span> <span class="fu">row.names</span>(rfIMP)</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>rfIMP <span class="sc">%&gt;%</span> </span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">10</span>, Overall) <span class="sc">%&gt;%</span> </span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">mapping=</span> <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(Names, Overall), <span class="at">y =</span> Overall), <span class="at">stat =</span> <span class="st">"identity"</span>)<span class="sc">+</span> </span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Predictors"</span>, <span class="at">y =</span> <span class="st">"Importance"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="2.-AnalysisPM_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="fu">here</span>(<span class="st">"regression-prediction-project"</span>,<span class="st">"results"</span>,<span class="st">"importantRF.png"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Saving 7 x 5 in image</code></pre>
</div>
</div>
</section>
</section>
<section id="results" class="level1">
<h1>Results</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>test_results <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">OBS =</span> test_data<span class="sc">$</span>Price, </span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>                          <span class="at">LNM =</span> <span class="fu">predict</span>(LNmodel, test_data[<span class="dv">1</span><span class="sc">:</span><span class="dv">61</span>]),</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">KNN =</span> <span class="fu">predict</span>(knnModel, test_data[<span class="dv">1</span><span class="sc">:</span><span class="dv">61</span>]),</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>                          <span class="at">RFM =</span> <span class="fu">predict</span>(rfmodel, test_data[<span class="dv">1</span><span class="sc">:</span><span class="dv">61</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in predict.lm(object, newdata, se.fit, scale = 1, type = if (type == :
prediction from rank-deficient fit; attr(*, "non-estim") has doubtful cases</code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="fl">999.99</span>)</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>Perf_results <span class="ot">=</span> <span class="fu">data.frame</span>(</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">LNM =</span> <span class="fu">round</span>(<span class="fu">postResample</span>(<span class="at">pred =</span> test_results<span class="sc">$</span>LNM, <span class="at">obs =</span> test_data<span class="sc">$</span>Price), <span class="dv">3</span>),</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">KNN =</span> <span class="fu">round</span>(<span class="fu">postResample</span>(<span class="at">pred =</span> test_results<span class="sc">$</span>KNN, <span class="at">obs =</span> test_data<span class="sc">$</span>Price), <span class="dv">3</span>),</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">RFM =</span> <span class="fu">round</span>(<span class="fu">postResample</span>(<span class="at">pred =</span> test_results<span class="sc">$</span>RFM, <span class="at">obs =</span> test_data<span class="sc">$</span>Price), <span class="dv">3</span>)</span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a>Perf_results</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               LNM       KNN       RFM
RMSE     54819.808 45321.318 37742.731
Rsquared     0.612     0.646     0.754
MAE      20989.778 24633.264 19650.826</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>table_file1 <span class="ot">=</span> <span class="fu">here</span>(<span class="st">"regression-prediction-project"</span>,<span class="st">"results"</span>,<span class="st">"resultstbl1.rds"</span>)</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(Perf_results, <span class="at">file =</span> table_file1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>test_results <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">OBS =</span> test_data<span class="sc">$</span>Price, </span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>                          <span class="at">LNM =</span> <span class="fu">predict</span>(LNmodel, test_data[<span class="dv">1</span><span class="sc">:</span><span class="dv">61</span>]),</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">KNN =</span> <span class="fu">predict</span>(knnModel, test_data[<span class="dv">1</span><span class="sc">:</span><span class="dv">61</span>]),</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>                          <span class="at">RFM =</span> <span class="fu">predict</span>(rfmodel, test_data[<span class="dv">1</span><span class="sc">:</span><span class="dv">61</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in predict.lm(object, newdata, se.fit, scale = 1, type = if (type == :
prediction from rank-deficient fit; attr(*, "non-estim") has doubtful cases</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>OBS <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">VALUE =</span> test_data<span class="sc">$</span>Price, <span class="at">OBBS =</span> test_data<span class="sc">$</span>Price, <span class="at">TYPE =</span> <span class="st">"OBS"</span>) </span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>LNM <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">VALUE =</span> <span class="fu">predict</span>(LNmodel, test_data[<span class="dv">1</span><span class="sc">:</span><span class="dv">61</span>]), <span class="at">OBBS =</span> test_data<span class="sc">$</span>Price, <span class="at">TYPE =</span> <span class="st">"LNM"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in predict.lm(object, newdata, se.fit, scale = 1, type = if (type == :
prediction from rank-deficient fit; attr(*, "non-estim") has doubtful cases</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>KNN <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">VALUE =</span> <span class="fu">predict</span>(knnModel, test_data[<span class="dv">1</span><span class="sc">:</span><span class="dv">61</span>]), <span class="at">OBBS =</span> test_data<span class="sc">$</span>Price, <span class="at">TYPE =</span> <span class="st">"KNN"</span>)</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>RFM <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">VALUE =</span> <span class="fu">predict</span>(rfmodel, test_data[<span class="dv">1</span><span class="sc">:</span><span class="dv">61</span>]), <span class="at">OBBS =</span> test_data<span class="sc">$</span>Price, <span class="at">TYPE =</span> <span class="st">"RFM"</span>)</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>OBS <span class="ot">=</span> OBS <span class="sc">%&gt;%</span> </span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ID =</span> <span class="fu">row_number</span>())</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>LNM <span class="ot">=</span> LNM <span class="sc">%&gt;%</span> </span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ID =</span> <span class="fu">row_number</span>())</span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>KNN <span class="ot">=</span> KNN <span class="sc">%&gt;%</span> </span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ID =</span> <span class="fu">row_number</span>())</span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true" tabindex="-1"></a>RFM <span class="ot">=</span> RFM <span class="sc">%&gt;%</span> </span>
<span id="cb70-14"><a href="#cb70-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ID =</span> <span class="fu">row_number</span>())</span>
<span id="cb70-15"><a href="#cb70-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-16"><a href="#cb70-16" aria-hidden="true" tabindex="-1"></a>forGraph <span class="ot">=</span> <span class="fu">rbind</span>(OBS, LNM, KNN, RFM)</span>
<span id="cb70-17"><a href="#cb70-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-18"><a href="#cb70-18" aria-hidden="true" tabindex="-1"></a>forGraph <span class="ot">=</span> forGraph <span class="sc">%&gt;%</span> </span>
<span id="cb70-19"><a href="#cb70-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">TYPE =</span> <span class="fu">as.factor</span>(TYPE))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>forGraph <span class="sc">%&gt;%</span> </span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>ID, <span class="at">y=</span>VALUE, <span class="at">color =</span> TYPE)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="2.-AnalysisPM_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="fu">here</span>(<span class="st">"regression-prediction-project"</span>,<span class="st">"results"</span>,<span class="st">"predictions.png"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Saving 7 x 5 in image</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>Perf_results<span class="sc">$</span>Row <span class="ot">=</span> <span class="fu">row.names</span>(Perf_results)</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>ResultGraph <span class="ot">=</span> Perf_results <span class="sc">%&gt;%</span> </span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="sc">!</span>Row, <span class="at">names_to =</span> <span class="st">"Models"</span>, <span class="at">values_to =</span> <span class="st">"values"</span>)</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>ResultGraph <span class="sc">%&gt;%</span> </span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Row <span class="sc">==</span> <span class="st">"RMSE"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Models, <span class="at">y=</span>values, <span class="at">fill =</span> Models)) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="2.-AnalysisPM_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="fu">here</span>(<span class="st">"regression-prediction-project"</span>,<span class="st">"results"</span>,<span class="st">"RMSE.png"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Saving 7 x 5 in image</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>ResultGraph <span class="sc">%&gt;%</span> </span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Row <span class="sc">==</span> <span class="st">"MAE"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Models, <span class="at">y=</span>values, <span class="at">fill =</span> Models)) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="2.-AnalysisPM_files/figure-html/unnamed-chunk-18-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="fu">here</span>(<span class="st">"regression-prediction-project"</span>,<span class="st">"results"</span>,<span class="st">"MAE.png"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Saving 7 x 5 in image</code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>